
  <meta charset="UTF-8">
  <title>Drag‑and‑Drop Vocabulary</title>

  <!-- fonts + css -->
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600;700&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="/pages/dragdrop.css">

  <h1>Drag &amp; Drop Vocabulary</h1>

  <!-- toast -->
  <div id="message" class="message" hidden></div>

  <div class="wrapper">

    <!-- instructions -->
    <aside class="instructions">
      <h2>How&nbsp;to&nbsp;Play</h2>
      <ol>
        <li>Select <strong>From</strong> &amp; <strong>To</strong> languages and <strong>difficulty</strong>.</li>
        <li>(Optional) enter a custom comma‑separated word list.</li>
        <li>Hit <em>New Round</em> 🔄 – then drag words (top) onto their translations (bottom).</li>
        <li>Scoreboard tracks your accuracy – aim for 💯!</li>
      </ol>
    </aside>

    <!-- interaction / game -->
    <section class="interaction">

      <!-- custom list -->
      <input id="custom" type="text"
             placeholder="Optional: custom words, comma‑separated">

      <!-- controls -->
      <div class="controls">
        <label for="source">From</label>
        <select id="source"></select>

        <label for="target">To</label>
        <select id="target"></select>

        <label for="difficulty">Difficulty</label>
        <select id="difficulty">
          <option value="easy">Easy 🌱</option>
          <option value="medium">Medium 🪄</option>
          <option value="hard">Hard 🐉</option>
        </select>
      </div>

      <!-- SCOREBOARD -->
      <div id="scoreboard" class="scoreboard">
        <span id="solved">0</span>/<span id="total">0</span> correct
        &bull; Attempts: <span id="attempts">0</span>
        &bull; Accuracy: <span id="accuracy">0</span>%
      </div>

      <!-- board -->
      <div id="game">
        <div id="words" class="word-list"></div>
        <div id="zones" class="drop-zones"></div>
      </div>

      <!-- new round -->
      <button id="reset">🔄 New Round</button>
    </section>

  </div> <!-- /wrapper -->

  <script src="/pages/dragdrop.js"></script>
  <script>
   document.addEventListener('DOMContentLoaded', () => {
     // 1) read ?lang=xx from the URL
     const params = new URLSearchParams(window.location.search);
     const lang   = params.get('lang');
     if (!lang) return;
 
     // 2) find your "To" select (#target) and set its value
     const toSelect = document.getElementById('target');
     if (toSelect) {
       toSelect.value = lang;
     }
 
     // 3) (optional) swap the navbar toggle text to the chosen language
     const activeItem = document.querySelector(
       `.dropdown-menu a[href="?lang=${lang}"]`
     );
     const toggle = document.getElementById('languageDropdown');
     if (activeItem && toggle) {
       toggle.textContent = activeItem.textContent;
     }
   });
 </script>
 {{> footer}}